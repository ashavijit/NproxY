[server]
listen_addr = 0.0.0.0
listen_port = 8888
worker_processes = 2
max_connections = 1000

static_root = ./test_full
try_files = $uri /fallback.html

# Rewrite rule for testing
rewrite = ^/api/v1/(.*)$ /v2/$1
rewrite = ^/python/(.*)$ /$1

# Load our dynamic plugin
load_module = ./tests/hello_module.so

[log]
level = 1
access_log = logs/access_full.log
error_log = logs/error_full.log

[proxy]
enabled = true

[upstream]
backend = 127.0.0.1:8899
